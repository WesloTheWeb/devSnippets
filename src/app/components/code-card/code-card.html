<div class="code-card">
  <!-- Header Section -->
  <section class="card-header">
    <div class="header-content">
      <h4 class="card-title">{{ snippet?.title || 'Untitled Snippet' }}</h4>
      <p class="card-description" *ngIf="snippet?.description">{{ snippet!.description }}</p>
    </div>
    <div class="header-meta">
      <span class="language-badge">{{ snippet?.language || 'Unknown' }}</span>
      <span class="similarity-score" *ngIf="snippet && snippet.similarity !== undefined" [ngClass]="{
        'similarity-high': snippet!.similarity >= HIGH_SIMILARITY,
        'similarity-medium': snippet!.similarity >= MEDIUM_SIMILARITY && snippet!.similarity < HIGH_SIMILARITY,
        'similarity-low': snippet!.similarity < MEDIUM_SIMILARITY
      }">
        {{ (snippet!.similarity * 100).toFixed(1) }}% match
      </span>
    </div>
  </section>
  <!-- Code Section -->
  <section class="code-section">
    <pre class="code-block"><code>{{ snippet?.code || '// No code available' }}</code></pre>
  </section>
  <!-- Bottom Section with Tags and Copy Button -->
  <section class="card-footer">
    <div class="tags-section" *ngIf="snippet && snippet.tags && snippet.tags.length > 0">
      <span class="tag" *ngFor="let tag of snippet.tags">{{ tag }}</span>
    </div>
    <button class="copy-btn-card" (click)="copyCode()" [class.copied]="copied">
      {{ copied ? 'Copied!' : 'Copy Snippet' }}
    </button>
  </section>
</div>